(function(t){function e(e){for(var r,o,i=e[0],c=e[1],u=e[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},s=[];function o(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"9ea721f1"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=r);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=o(t);var u=new Error;s=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",u.name="ChunkLoadError",u.type=r,u.request=s,n[1](u)}a[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var p=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"08b6":function(t,e,n){"use strict";var r=n("86ec"),a=n.n(r);a.a},"21bb":function(t,e,n){"use strict";var r=n("2dad"),a=n.n(r);a.a},"2bac":function(t,e,n){"use strict";var r=n("4ca5"),a=n.n(r);a.a},"2dad":function(t,e,n){},"3c61":function(t,e,n){},"4ca5":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("2b88"),s=n.n(a),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("router-view"),n("portal-target",{attrs:{name:t.MODALS}})],1)},i=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("div",{staticClass:"nav__wrapper"},[n("div",{staticClass:"nav__logo"}),n("div",{staticClass:"nav__menu"},[n("router-link",{staticClass:"nav__menu__item",attrs:{to:"/"}},[t._v("Home")]),t._v("| "),n("router-link",{staticClass:"nav__menu__item",attrs:{to:"/about"}},[t._v("About")])],1)])])},u=[],l={},p=l,d=(n("08b6"),n("2877")),f=Object(d["a"])(p,c,u,!1,null,null,null),m=f.exports,h="modals",v={components:{NavBar:m},created(){this.MODALS=h}},b=v,_=(n("5c0b"),Object(d["a"])(b,o,i,!1,null,null,null)),g=_.exports,y=(n("d3b7"),n("8c4f")),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"home__main",class:{home__main__success:t.isSuccess&&0!==t.artists.length}},[n("SearchBar",{attrs:{entity:t.entity,onSearch:t.onSearch,loading:t.isLoading}}),t.isLoading?n("span",{staticClass:"mt-4"},[t._v("LOADING...")]):t._e(),t.isError&&!t.isLoading?n("span",[t._v("Oops, something went wrong. Try again later...")]):t._e(),!t.isLoading&&t.isSuccess?n("List",{attrs:{elements:t.artists,onClick:t.toggleModal}}):t._e(),t.showModal?n("Modal",{attrs:{onClose:t.toggleModal}}):t._e()],1)])},S=[],E="SEARCH_ARTIST",k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list",class:{list__empty:t.isEmpty}},[t.isEmpty?n("span",[t._v("The list is empty")]):t._e(),t._l(t.elements,(function(e,r){return n("ListItem",{key:e.id+r,attrs:{onClick:t.onClick,element:Object.assign({},e,{picture:e.pictureMedium})}})}))],2)},w=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-item pt-2",on:{click:t.onClick}},[n("div",{staticClass:"list-item__picture",style:{"background-image":"url("+t.element.picture,"background-repeat":"no-repeat","background-position":"center","background-size":"10rem"}}),n("div",{staticClass:"list-item__info"},[n("p",{staticClass:"list-item__info__title"},[t._v(t._s(t.element.name))])])])},x=[],j={props:{element:{type:Object,required:!0},onClick:Function}},R=j,L=(n("7675"),Object(d["a"])(R,O,x,!1,null,null,null)),M=L.exports,$={data:function(){return{}},components:{ListItem:M},props:{elements:{type:Array,required:!0},onClick:Function},computed:{isEmpty:function(){return!this.$props.elements||0===this.$props.elements.length}}},T=$,A=(n("5d65"),Object(d["a"])(T,k,w,!1,null,null,null)),B=A.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("portal",{attrs:{to:t.MODALS}},[n("div",{staticClass:"modal",on:{click:t.onClose}},[n("div",{staticClass:"modal__container shadow",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"modal__header"},[n("Button",{staticClass:"mt-1 mr-2",attrs:{type:"primary",onClick:t.onClose}},[t._v("X")])],1),n("div",{staticClass:"modal__body"},[t._t("default")],2)])])])},P=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:{"btn-primary":"primary"===t.type,"btn-secondary":"secondary"===t.type},attrs:{type:"button",disabled:t.disabled},on:{click:t.onClick}},[t._t("default",[t._v("Submit")])],2)},F=[],N={props:{onClick:Function,disabled:Boolean,type:String}},q=N,I=(n("f0bd"),Object(d["a"])(q,D,F,!1,null,null,null)),z=I.exports,H={props:{onClose:Function},components:{Button:z},created:function(){this.MODALS=h}},Q=H,K=(n("2bac"),Object(d["a"])(Q,U,P,!1,null,null,null)),J=K.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-bar"},[n("label",{staticClass:"search-bar__label"},[t._v("Find your "+t._s(t.entity)+" !")]),n("div",{staticClass:"search-bar__wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"search-bar__input",attrs:{placeholder:"Enter your "+t.entity},domProps:{value:t.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onClick(e)},input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("Button",{staticClass:"search-bar__button",attrs:{type:"secondary",onClick:t.onClick,disabled:t.isDiabled}},[t._v(" OK! ")])],1)])},X=[],Y=(n("498a"),{name:"SearchBar",components:{Button:z},props:{entity:String,onSearch:Function,loading:Boolean},data:function(){return{text:""}},computed:{isDiabled:function(){return!(""!==this.text.trim()&&!this.$props.loading)}},methods:{onClick:function(){""===this.text.trim()&&this.$props.loading||this.$props.onSearch(this.text)}}}),V=Y,W=(n("6f1d"),Object(d["a"])(V,G,X,!1,null,"02b1e388",null)),Z=W.exports,tt={ALBUM:"album",ARTIST:"artist"},et={name:"Home",components:{List:B,Modal:J,SearchBar:Z},data:function(){return{entity:tt.ALBUM,showModal:!1}},computed:{artists:function(){return this.$store.getters.artists},isLoading:function(){return this.$store.getters.isLoading},isError:function(){return this.$store.getters.isError},isSuccess:function(){return this.$store.getters.isSuccess}},methods:{onSearch:function(t){this.$store.dispatch(E,{artist:t})},toggleModal:function(){this.showModal=!this.showModal}}},nt=et,rt=(n("21bb"),Object(d["a"])(nt,C,S,!1,null,null,null)),at=rt.exports;r["default"].use(y["a"]);var st,ot=[{path:"/",name:"Home",component:at},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],it=new y["a"]({mode:"history",base:"/",routes:ot}),ct=it,ut=n("2f62"),lt=n("ade3"),pt=(n("96cf"),n("1da1")),dt=n("d4ec"),ft=n("bee2"),mt=n("bc3a"),ht=n.n(mt),vt=n("6ca1"),bt=n.n(vt),_t="Your request got an error",gt=function(){function t(e,n){Object(dt["a"])(this,t),this.baseURL=e,this.headers=n,this.httpService=ht.a.create({baseURL:e,timeout:3e3,headers:n})}return Object(ft["a"])(t,[{key:"get",value:function(){var t=Object(pt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.httpService.get(e);case 3:if(n=t.sent,!n||200!=n.status){t.next=9;break}return n.data=bt.a.camelizeKeys(n.data||_t),t.abrupt("return",n);case 9:throw new Error(_t);case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t["catch"](0),new Error(_t);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"post",value:function(){var t=Object(pt["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.httpService.post(e,n);case 3:if(r=t.sent,!r||200!=r.status){t.next=12;break}return t.next=7,r.json();case 7:return a=t.sent,r.data=bt.a.camelizeKeys(a||_t),t.abrupt("return",r.json());case 12:throw new Error(_t);case 13:t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](0),console.error(t.t0),new Error(_t);case 19:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}(),yt=gt,Ct=new yt("https://cors-anywhere.herokuapp.com/https://api.deezer.com",{}),St=function(){function t(){Object(dt["a"])(this,t)}return Object(ft["a"])(t,null,[{key:"searchArtist",value:function(t){var e=t.artist;return Ct.get("/search/artist?q=".concat(e))}}]),t}(),Et=St,kt={REQUEST:"".concat(E,"_REQUEST"),SUCCESS:"".concat(E,"_SUCCESS"),ERROR:"".concat(E,"_ERROR"),RESET:"".concat(E,"_RESET")},wt={loading:!1,error:!1,success:!1,artists:[],next:null},Ot={artists:function(t){return t.artists},artistsCount:function(t){return t.artists.legnth},isLoading:function(t){return t.loading},isSuccess:function(t){return t.success},isError:function(t){return t.error}},xt=Object(lt["a"])({},E,(function(t,e){return Object(pt["a"])(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,a=e.artist,n.prev=2,r(kt.REQUEST),n.next=6,Et.searchArtist({artist:a});case 6:s=n.sent,s?r(kt.SUCCESS,s.data):r(kt.ERROR,"No funco"),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),r(kt.ERROR,"No funco");case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()})),jt=(st={},Object(lt["a"])(st,kt.REQUEST,(function(t){t.loading=!0})),Object(lt["a"])(st,kt.SUCCESS,(function(t,e){var n=e.data;t.artists=n,t.success=!0,t.error=!1,t.loading=!1})),Object(lt["a"])(st,kt.ERROR,(function(t){t.error=!0,t.success=!1,t.loading=!1})),Object(lt["a"])(st,kt.RESET,(function(t){t.success=!1,t.error=!1,t.loading=!1})),st),Rt={state:wt,getters:Ot,actions:xt,mutations:jt};r["default"].use(ut["a"]);var Lt=new ut["a"].Store({modules:{search:Rt}});n("3c61");r["default"].config.productionTip=!1,r["default"].use(s.a),new r["default"]({router:ct,store:Lt,render:function(t){return t(g)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"5d65":function(t,e,n){"use strict";var r=n("7068"),a=n.n(r);a.a},"6f1d":function(t,e,n){"use strict";var r=n("f390"),a=n.n(r);a.a},7068:function(t,e,n){},7675:function(t,e,n){"use strict";var r=n("9aa5"),a=n.n(r);a.a},"76ae":function(t,e,n){},"86ec":function(t,e,n){},"9aa5":function(t,e,n){},"9c0c":function(t,e,n){},f0bd:function(t,e,n){"use strict";var r=n("76ae"),a=n.n(r);a.a},f390:function(t,e,n){}});
//# sourceMappingURL=app.8efdc3f3.js.map